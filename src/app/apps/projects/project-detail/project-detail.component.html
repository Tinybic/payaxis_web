<div class="row">
    <div class="col-md-6">
        <div class="headline font-28 line-32">
            {{project.projectName}}
        </div>
        <div class="subtitle-2-500 text-typeblack80">
            {{project.projectAddress}}
        </div>
    </div>
    <div class="col-md-6 text-end line-56">
        <div *ngIf="tabs == 1" class="d-inline-block" ngbDropdown>
            <button class="btn btn-primary ms-2-1" ngbDropdownToggle>New Order<i
                    class="fe-chevron-down ms-1-1"></i></button>
            <div ngbDropdownMenu style="padding: 4px 8px;">
                <a class="subtitle-2-500" href="javascript:void(0);" style="padding: 12px 4px;" ngbDropdownItem>
                    <i class="fe-plus me-1-1"></i>
                    Create New
                </a>
                <a class="subtitle-2-500" href="javascript:void(0);" style="padding: 12px 4px;" ngbDropdownItem>
                    <i class="fe-upload me-1-1"></i>
                    Upload
                </a>
            </div>
        </div>
        <div *ngIf="tabs == 1" class="d-inline-block ms-2-1" ngbDropdown>
            <span ngbDropdownToggle><i class="fe-more-vertical- font-24 cursor-pointer"></i></span>
            <div ngbDropdownMenu style="padding: 4px 8px;" *ngIf="canEdit">
                <a class="subtitle-2-500" href="javascript:void(0);" (click)="editProjectDetails()" style="padding: 12px 4px;" ngbDropdownItem>
                    <i class="fe-edit me-1-1"></i>
                    Edit Project Details
                </a>
                <a class="subtitle-2-500" href="javascript:void(0);" style="padding: 12px 4px;" (click)="editProjectBudget()" ngbDropdownItem>
                    <i class="fe-file-text me-1-1"></i>
                    Edit Project Budget
                </a>
                <a class="subtitle-2-500" href="javascript:void(0);" style="padding: 12px 4px;color: #EA001E;"
                    ngbDropdownItem>
                    <i class="fe-trash-2 me-1-1"></i>
                    Remove project
                </a>
            </div>
        </div>
        <button class="btn btn-primary" *ngIf="tabs == 4" (click) = "inviteMembers()"><i class="fe-plus-square me-1-1"></i>Invite Member</button>
    </div>
</div>
<div class="row mt-1-1">
    <div class="col-md-12">
        <ul ngbNav #nav="ngbNav" [(activeId)]="tabs" class="nav-pills navtab-bg">
            <li [ngbNavItem]="1">
                <a ngbNavLink>
                    Budget
                </a>
                <ng-template ngbNavContent>
                    <div class="row mt-2-1">
                        <div class="col-md-7">
                            <div class="card">
                                <div class="card-body padding-32">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="subtitle-2-500-16 text-typeblack80">Used</div>
                                            <div class="d-flex align-items-top mt-2-1"><span
                                                    class="subtitle-2-500-24">-</span>
                                                <span class="subtitle-2-500-16 text-typeblack80 ms-1-1 line-20">-</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6 text-end">
                                            <div class="subtitle-2-500-16 text-typeblack80">Left</div>
                                            <div class="subtitle-2-500-24 mt-2-1">
                                                $100,000
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-1">
                                        <div class="col-md-12">
                                            <div class="progress progress-bar-alt-success progress-md">
                                                <div class="progress-bar bg-success wow" role="progressbar"
                                                    aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"
                                                    style="width: 20%; visibility: visible;">
                                                </div><!-- /.progress-bar .progress-bar-success -->
                                            </div><!-- /.progress .no-rounded -->
                                        </div>
                                    </div>

                                    <div class="d-flex flex-row mt-3-1" style="border-top:1px solid #E5E7EB">
                                        <div
                                            style="border-right: 1px solid #E5E7EB;flex: 1; height: 56px; margin-top: 24px;">
                                            <div class="subtitle-2-500-16 text-typeblack80">Total</div>
                                            <div class="subtitle-2-500-24 mt-2-1">
                                                {{project.projectBudget | currency}}
                                            </div>
                                        </div>
                                        <div style="flex: 1; height: 56px; margin-top: 24px; padding-left: 24px;">
                                            <div class="subtitle-2-500-16 text-typeblack80">Sq. Ft.</div>
                                            <div class="subtitle-2-500-24 mt-2-1">
                                                <span *ngIf="project.projectSqft == 0">-</span><span
                                                    *ngIf="project.projectSqft>0">{{project.projectSqft | currency
                                                    :'':''}}</span>
                                            </div>
                                        </div>
                                        <div
                                            style="border-left: 1px solid #E5E7EB;flex: 1; height: 56px; margin-top: 24px; padding-left: 24px;">
                                            <div class="subtitle-2-500-16 text-typeblack80">Account</div>
                                            <div class="d-flex align-items-center mt-2-1"><span
                                                    class="subtitle-2-500-24">-</span>
                                                <span class="subtitle-2-500-16 text-typeblack80 ms-1 line-20">-</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="row">
                                <div class="col-md-6" style="padding-left:4px">
                                    <div class="card" style="height: 120px;margin-bottom: 16px">
                                        <div class="card-body padding-24">
                                            <div class="subtitle-2-500-16 text-typeblack80">Owed</div>
                                            <div class="subtitle-2-500-24 mt-2-1">-</div>
                                        </div>
                                    </div>
                                    <div class="card" style="height: 120px;">
                                        <div class="card-body padding-24">
                                            <div class="subtitle-2-500-16 text-typeblack80">Due in 7 days</div>
                                            <div class="subtitle-2-500-24 mt-2-1">-</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6" style="padding-left:4px">
                                    <div class="card" style="height: 120px;margin-bottom: 16px">
                                        <div class="card-body padding-24">
                                            <div class="subtitle-2-500-16 text-typeblack80">Overdue</div>
                                            <div class="subtitle-2-500-24 mt-2-1">-</div>
                                        </div>
                                    </div>
                                    <div class="card" style="height: 120px;margin-bottom: 16px">
                                        <div class="card-body padding-24">
                                            <div class="subtitle-2-500-16" style="color: #215EA9;">Pick Dates<div class="d-inline-block triangle ms-1-1"></div></div>
                                            <div class="subtitle-2-500-24 mt-2-1">-</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6 subtitle-2-600-24">
                            Budgets
                        </div>
                        <div class="col-md-6 text-end">
                            <div class="d-inline-block">
                                <input class="form-control form-search" type="search" placeholder="Search here"
                                    [(ngModel)]="keywords" />
                            </div>
                            <div class="d-inline-block ms-2-1" ngbDropdown>
                                <button class="btn btn-primary" style="padding: 8px 16px;" ngbDropdownToggle>Add
                                    Category<i class="fe-chevron-down ms-1-1"></i></button>
                                <div ngbDropdownMenu style="padding: 4px 8px;">
                                    <a class="subtitle-2-500" href="javascript:void(0);" style="padding: 12px 4px;"
                                        ngbDropdownItem>
                                        <i class="fe-plus me-1-1"></i>
                                        Create New
                                    </a>
                                    <a class="subtitle-2-500" href="javascript:void(0);" style="padding: 12px 4px;"
                                        ngbDropdownItem>
                                        <i class="fe-upload me-1-1"></i>
                                        Upload
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" *ngIf="isLoading">
                        <div class="col-md-12 text-center" style="padding-top: 80px;">
                            <app-ui-preloader [display]="isLoading"></app-ui-preloader>
                        </div>
                    </div>

                    <div class="row" *ngIf="budgetList.length == 0 && !isLoading">
                        <div class="col-md-12 text-center" style="padding-top: 80px;">
                            <div class="Subtitle-1-600 text-typeblackdeactivated">No budget...</div>
                            <div class="text-typeblackdeactivated mt-1-1 ">Get your project on track in a few clicks
                            </div>
                            <div class="mt-1-1"><button class="btn btn-outline-primary" style="padding: 8px 16px;"><i
                                        class="fe-plus me-1-1"></i>Create</button></div>
                        </div>
                    </div>

                    <div class="d-flex flex-wrap mt-2-1" *ngIf="budgetList.length > 0 && !isLoading">
                        <div class="card budgetItem" *ngFor="let item of budgetList; let i = index"
                            [ngClass]="{'ms-2-1':i % 5 > 0}">
                            <div class="card-body p-2-1">
                                <div class="row">
                                    <div class="col-md-6 Subtitle-1-600 text-start line-20">{{item.category}}</div>
                                    <div class="col-md-6 text-end">
                                        <span class="subtitle-2-400-14">${{item.budgetAmount}}</span>
                                        <div class="number-rounded ms-1" style="background-color: #F87171;">
                                            3
                                        </div>
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-12">
                                        <div class="progress progress-bar-alt-success progress-md">
                                            <div class="progress-bar bg-success wow" role="progressbar"
                                                aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                                                style="width: 0%; visibility: visible;">
                                            </div><!-- /.progress-bar .progress-bar-success -->
                                        </div><!-- /.progress .no-rounded -->
                                    </div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-6 subtitle-2-500-12">
                                        <span class="text-typeblack80">Used</span>&nbsp;
                                        <span>$0</span>&nbsp;
                                        <span class="text-typeblackdeactivated">12%</span>
                                    </div>
                                    <div class="col-md-6 subtitle-2-500-12 text-end">
                                        <span class="text-typeblack80">Left</span>&nbsp;
                                        <span>$10,080</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </li>
            <li [ngbNavItem]="2">
                <a ngbNavLink>
                    Orders
                </a>
            </li>
            <li [ngbNavItem]="3">
                <a ngbNavLink>
                    Vendors
                </a>
            </li>
            <li [ngbNavItem]="4">
                <a ngbNavLink>
                    Team
                </a>
                <ng-template ngbNavContent>
                    <app-project-team></app-project-team>
                </ng-template>
            </li>
            <li [ngbNavItem]="5">
                <a ngbNavLink>
                    Payment History
                </a>
            </li>
        </ul>
    </div>
    <div [ngbNavOutlet]="nav" class="mb-0 b-0 pt-0"></div>
</div>


<!--#editProjectModal-->
<ng-template #editProjectModal let-modal>
    <app-create-project [project]="project" [modalRef]="editProjectModalRef"></app-create-project>
</ng-template>


<!--#editBudgetModal-->
<ng-template #editBudgetModal let-modal>
    <app-create-budget [project]="project"  [budgetAllocation]="budgetList" [modalRef]="editBudgetModalRef"></app-create-budget>
</ng-template>
